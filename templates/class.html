{% extends "base.html" %}

{% block title %}SciWeb 3.0 - Class Page{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/class.css') }}">
{% endblock %}

{% block content %}
    <!-- Class Header -->
    <section class="class-header">
        <div class="class-info">
            <h1 class="class-title">{{ class_name | default('Class Name') }}</h1>
            <p class="class-subtitle">{{ class_description | default('Class Description') }}</p>
        </div>
        <div class="class-actions">
            <button class="btn btn-primary"><i class="fas fa-edit"></i> Edit</button>
            <button class="btn btn-secondary"><i class="fas fa-share"></i> Share</button>
        </div>
    </section>

    <!-- Class Dashboard -->
    <main class="class-dashboard">
        <!-- Left Column -->
        <div class="dashboard-column left-column">
            <!-- Users in Class Section -->
            <section class="dashboard-card users-card">
                <div class="card-header">
                    <h2><i class="fas fa-users"></i> Class Members</h2>
                </div>
                <div class="card-content">
                    <div class="online-users">
                        <h3>Online Now (0)</h3>
                        <ul class="user-list">
                            <!-- Online users will be populated dynamically -->
                             <li class="empty-state-small">No users online.</li>
                        </ul>
                    </div>
                    <div class="all-users">
                        <h3>All Members (0)</h3>
                        <ul class="user-list">
                            <!-- All users will be populated dynamically -->
                            <li class="empty-state-small">No members in this class yet.</li>
                        </ul>
                        <button class="btn btn-text">View All Members</button>
                    </div>
                </div>
            </section>

            <!-- Chats/Channels Section -->
            <section class="dashboard-card chats-card">
                <div class="card-header">
                    <h2><i class="fas fa-comments"></i> Chats & Channels</h2>
                    <button class="btn-icon"><i class="fas fa-plus"></i></button>
                </div>
                <div class="card-content">
                    <div class="channels-list-container">
                        <ul class="channel-list">
                            <!-- Channels will be populated dynamically -->
                            <li class="empty-state-small">No channels created yet.</li>
                            <!-- Example of an active channel structure (to be populated) -->
                            <!-- <li class="channel active" data-channel="general">
                                <i class="fas fa-hashtag"></i>
                                <span>general</span>
                                <span class="unread-count">3</span>
                            </li> -->
                        </ul>
                        <button class="btn btn-text">Create New Channel</button>
                    </div>
                    
                    <!-- Chat Display Area -->
                    <div class="chat-display">
                        <!-- Channel Header -->
                        <div class="chat-header">
                            <h3><i class="fas fa-hashtag"></i> <span class="current-channel">No Channel Selected</span></h3>
                            <div class="chat-actions">
                                <button class="btn-icon"><i class="fas fa-users"></i></button>
                                <button class="btn-icon"><i class="fas fa-cog"></i></button>
                            </div>
                        </div>
                        
                        <!-- Messages Area -->
                        <div class="messages-container">
                            <!-- Messages will be populated dynamically based on selected channel -->
                             <div class="empty-state-large" style="min-height: 300px; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-comments" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                                <p>Select a channel to view messages or start a conversation.</p>
                            </div>
                            <!-- Example channel message area structure (hidden by default) -->
                            <!-- <div class="channel-messages" data-channel="general" style="display: none;"> -->
                                <!-- Messages go here -->
                            <!-- </div> -->
                        </div>
                        
                        <!-- Message Input Area -->
                        <div class="message-input-area">
                            <textarea placeholder="Type a message here..." rows="1" class="message-input"></textarea>
                            <div class="message-actions">
                                <button class="btn-icon attachment-btn" title="Attach file"><i class="fas fa-paperclip"></i></button>
                                <button class="btn-primary send-message-btn"><i class="fas fa-paper-plane"></i><span>Send</span></button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Middle Column -->
        <div class="dashboard-column middle-column">
            <!-- Upcoming Events/Study Sessions -->
            <section class="dashboard-card events-card">
                <div class="card-header">
                    <h2><i class="fas fa-calendar-alt"></i> Upcoming Events</h2>
                    <button class="btn-icon"><i class="fas fa-plus"></i></button>
                </div>
                <div class="card-content">
                    <!-- Events will be populated dynamically -->
                     <div class="empty-state">
                        <i class="fas fa-calendar-check"></i>
                        <p>No upcoming events scheduled.</p>
                    </div>
                    <!-- Example Event Structure -->
                    <!-- <div class="event"> ... </div> -->
                    <button class="btn btn-text">View All Events</button>
                </div>
            </section>
        </div>

        <!-- Right Column -->
        <div class="dashboard-column right-column">
            <!-- Upcoming Assignments Section -->
            <section class="dashboard-card assignments-card">
                <div class="card-header">
                    <h2><i class="fas fa-tasks"></i> Upcoming Assignments</h2>
                </div>
                <div class="card-content">
                    <!-- Assignments will be populated dynamically -->
                     <div class="empty-state">
                        <i class="fas fa-clipboard-check"></i>
                        <p>No upcoming assignments.</p>
                    </div>
                    <!-- Example Assignment Structure -->
                    <!-- <div class="assignment urgent"> ... </div> -->
                </div>
            </section>

            <!-- Grade & Recent Scores Section -->
            <section class="dashboard-card grades-card">
                <div class="card-header">
                    <h2><i class="fas fa-chart-line"></i> Grades & Scores</h2>
                </div>
                <div class="card-content">
                    <div class="overall-grade">
                        <div class="grade-circle">
                            <span class="grade-value">--</span>
                            <span class="grade-percentage">--%</span>
                        </div>
                        <p class="grade-label">Current Grade</p>
                    </div>

                    <div class="recent-scores">
                        <h3>Recent Scores</h3>
                        <ul class="score-list">
                            <!-- Scores will be populated dynamically -->
                            <li class="empty-state-small">No recent scores available.</li>
                        </ul>
                    </div>

                    <div class="time-distribution">
                        <h3>Time Distribution</h3>
                        <div class="chart-container">
                             <canvas id="timeChart"></canvas>
                             <!-- JS will populate this chart, consider adding an empty state if no data -->
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Learning Resources Section -->
    <section class="resources-section">
        <h2 class="section-title">Course Units</h2>
        
        <!-- Units navigation -->
        <div class="units-navigation">
             <!-- Unit tabs will be populated dynamically -->
             <!-- Example Unit Tab Structure -->
             <button class="unit-tab active" data-unit="unit1">Unit 1: Example Unit</button>
            <button class="unit-add-btn"><i class="fas fa-plus"></i> Add Unit</button>
        </div>
        
        <!-- Units content -->
        <div class="units-content">
            <!-- Unit content will be populated dynamically -->
            <!-- Example Unit Structure (active) -->
            <div class="unit-content active" id="unit1">
                <div class="unit-header">
                    <h3 class="unit-title">Unit 1: Example Unit Title</h3>
                    <p class="unit-description">Unit description goes here.</p>
                </div>
                
                <div class="unit-tabs">
                    <div class="tabs">
                        <button class="tab-btn active" data-tab="unit1-worksheets">Worksheets</button>
                        <button class="tab-btn" data-tab="unit1-guides">Study Guides</button>
                        <button class="tab-btn" data-tab="unit1-mindwebs">Mind Webs</button>
                        <button class="tab-btn" data-tab="unit1-practice">Practice Problems</button>
                        <button class="tab-btn" data-tab="unit1-tests">Practice Tests</button>
                    </div>
                </div>

                <div class="tab-content">
                    <!-- Worksheets Tab -->
                    <div class="tab-pane active" id="unit1-worksheets">
                        <div class="upload-section">
                            <button class="btn btn-primary upload-btn"><i class="fas fa-upload"></i> Upload Worksheet</button>
                            <p class="upload-info">Upload worksheets to share with the class (.pdf, .docx, .xlsx)</p>
                        </div>
                        <div class="resource-list empty-grid">
                             <div class="empty-state">
                                <i class="fas fa-file-alt"></i>
                                <p>No worksheets uploaded for this unit yet.</p>
                            </div>
                            <!-- Resource items go here -->
                        </div>
                    </div>
                    
                    <!-- Study Guides Tab -->
                    <div class="tab-pane" id="unit1-guides">
                        <div class="upload-section">
                            <button class="btn btn-primary upload-btn"><i class="fas fa-upload"></i> Upload Study Guide</button>
                            <p class="upload-info">Upload study guides to share with the class (.pdf, .docx, .pptx)</p>
                        </div>
                        <div class="resource-list empty-grid">
                             <div class="empty-state">
                                <i class="fas fa-book"></i>
                                <p>No study guides uploaded for this unit yet.</p>
                            </div>
                            <!-- Resource items go here -->
                        </div>
                    </div>
                    
                    <!-- Mind Webs Tab -->
                    <div class="tab-pane" id="unit1-mindwebs">
                        <div class="upload-section">
                            <button class="btn btn-primary upload-btn"><i class="fas fa-link"></i> Attach Mind Web</button>
                            <p class="upload-info">Link mind maps and concept webs from your account (.pdf, .png, .jpg, .mm)</p>
                        </div>
                        <div class="resource-list empty-grid">
                            <div class="empty-state">
                                <i class="fas fa-project-diagram"></i>
                                <p>No mind webs attached for this unit yet.</p>
                            </div>
                            <!-- Resource items go here -->
                        </div>
                    </div>
                    
                    <!-- Practice Problems Tab -->
                    <div class="tab-pane" id="unit1-practice">
                        <div class="problems-filter">
                            <div class="filter-group">
                                <label>Difficulty:</label>
                                <select class="filter-select">
                                    <option value="all">All</option>
                                    <option value="basic">Basic</option>
                                    <option value="intermediate">Intermediate</option>
                                    <option value="advanced">Advanced</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>Type:</label>
                                <select class="filter-select">
                                    <option value="all">All</option>
                                    <option value="conceptual">Conceptual</option>
                                    <option value="computational">Computational</option>
                                    <option value="application">Application</option>
                                </select>
                            </div>
                        </div>
                        <div class="resource-list problems-list empty-grid">
                            <div class="empty-state">
                                <i class="fas fa-puzzle-piece"></i>
                                <p>No practice problems available for this unit yet.</p>
                            </div>
                            <!-- Problem items go here -->
                        </div>
                    </div>
                    
                    <!-- Practice Tests Tab -->
                    <div class="tab-pane" id="unit1-tests">
                        <div class="upload-section">
                            <button class="btn btn-primary upload-btn"><i class="fas fa-upload"></i> Upload Practice Test</button>
                            <p class="upload-info">Upload practice tests to share with the class (.pdf, .docx)</p>
                        </div>
                        <div class="resource-list empty-grid">
                            <div class="empty-state">
                                <i class="fas fa-file-signature"></i>
                                <p>No practice tests available for this unit yet.</p>
                            </div>
                            <!-- Resource items go here -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Other units will be dynamically loaded -->
            <!-- Example of an empty/coming soon unit state -->
             <div class="unit-content" id="unit-placeholder" style="display: none;">
                <div class="empty-state-large">
                    <i class="fas fa-books"></i>
                    <h3>No units available yet.</h3>
                    <p>The instructor has not added any course units.</p>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block scripts %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/class.js') }}"></script>
{% endblock %} 
{% extends "base.html" %}

{% block title %}SciWeb - Tree{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tree.css') }}">
{% endblock %}

{% block content %}
    <!-- Tree Container -->
    <div class="tree-container">
        <!-- Canvas for drawing edges -->
        <canvas class="tree-canvas"></canvas>
        <!-- Container for nodes -->
        <div class="nodes-container"></div>
        <!-- Toolbar -->
        <div class="tree-toolbar">
            <button class="tool-button btn-motivator" data-tooltip="Add Motivator Node">
                <i class="fas fa-star"></i>
            </button>
            <button class="tool-button btn-task" data-tooltip="Add Task Node">
                <i class="fas fa-tasks"></i>
            </button>
            <button class="tool-button btn-challenge" data-tooltip="Add Challenge Node">
                <i class="fas fa-mountain"></i>
            </button>
            <button class="tool-button btn-class" data-tooltip="Add Class Node">
                <i class="fas fa-chalkboard-teacher"></i>
            </button>
            <button class="tool-button btn-assignment" data-tooltip="Add Assignment Node">
                <i class="fas fa-book"></i>
            </button>
            <button class="tool-button btn-test" data-tooltip="Add Test Node">
                <i class="fas fa-clipboard-check"></i>
            </button>
            <button class="tool-button btn-project" data-tooltip="Add Project Node">
                <i class="fas fa-project-diagram"></i>
            </button>
            <button class="tool-button btn-essay" data-tooltip="Add Essay Node">
                <i class="fas fa-file-alt"></i>
            </button>
            <button class="tool-button btn-image" data-tooltip="Add Image Node">
                <i class="fas fa-image"></i>
            </button>
            <hr style="width: 80%; border-color: rgba(255, 255, 255, 0.1); margin: 5px 0;">
            <button class="tool-button btn-clear" data-tooltip="Clear All Nodes">
                <i class="fas fa-trash-alt"></i>
            </button>
            <button class="tool-button btn-save" data-tooltip="Reset View">
                <i class="fas fa-home"></i>
            </button>
        </div>
        <!-- Status Message -->
        <div class="status-message"></div>
        <!-- Overlay for connecting nodes -->
        <div class="connection-overlay"></div>
        <!-- Image Upload Form -->
        <div class="upload-overlay"></div>
        <div class="upload-form">
            <h3>Add Image Node</h3>
            <form>
                <label for="image-url">Image URL:</label>
                <input type="text" id="image-url" placeholder="https://example.com/image.jpg" required>
                <label for="image-title">Title (optional):</label>
                <input type="text" id="image-title" placeholder="My Image">
                <div style="display: flex; justify-content: space-between; margin-top: 15px;">
                    <button type="button" class="close-upload">Cancel</button>
                    <button type="submit">Add Image</button>
                </div>
            </form>
        </div>
        <!-- Mini-Map for Navigation -->
        <div class="mini-map-toggle">
            <i class="fas fa-map"></i>
        </div>
        <div class="mini-map">
            <div class="mini-map-viewport"></div>
        </div>
        <!-- Zoom Controls -->
        <div class="zoom-controls">
            <button class="zoom-in"><i class="fas fa-plus"></i></button>
            <div class="zoom-level">100%</div>
            <button class="zoom-out"><i class="fas fa-minus"></i></button>
        </div>
        <!-- AI Assistant Sidebar -->
        <div class="ai-sidebar">
            <div class="ai-header">
                <h3>AI Assistant âœ¨</h3>
                <button class="ai-close-btn"><i class="fas fa-times"></i></button>
            </div>
            <div class="ai-chat-box">
                <!-- Chat messages will be appended here -->
                <div class="message ai-message">
                    Hello! How can I help you organize your thoughts today? ðŸ§ 
                </div>
            </div>
            <div class="ai-input-area">
                <input type="text" id="ai-input" placeholder="Ask me to add a node...">
                <button id="ai-send-btn"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
        <!-- AI Assistant Toggle Button -->
        <button class="ai-toggle-btn">
            <i class="fas fa-robot"></i>
        </button>
    </div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tree.js') }}"></script>
{% endblock %} 